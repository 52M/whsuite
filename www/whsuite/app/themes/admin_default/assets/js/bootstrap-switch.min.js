/* ========================================================================
 * bootstrap-switch - v3.0.0
 * http://www.bootstrap-switch.org
 * ========================================================================
 * Copyright 2012-2013 Mattia Larentis
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 */
 (function(){var e=[].slice;(function(t,n){"use strict";var r;r=function(){function e(e,n){if(n==null){n={}}this.$element=t(e);this.options=t.extend({},t.fn.bootstrapSwitch.defaults,n,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text")});this.$on=t("<span>",{"class":""+this.name+"-handle-on fa fa-check "+this.name+"-"+this.options.onColor,html:this.options.onText});this.$off=t("<span>",{"class":""+this.name+"-handle-off fa fa-times "+this.name+"-"+this.options.offColor,html:this.options.offText});this.$label=t("<label>",{"for":this.$element.attr("id"),html:this.options.labelText});this.$wrapper=t("<div>",{"class":function(e){return function(){var t;t=[""+e.name];t.push(e.options.state?""+e.name+"-on":""+e.name+"-off");if(e.options.size!=null){t.push(""+e.name+"-"+e.options.size)}if(e.options.animate){t.push(""+e.name+"-animate")}if(e.options.disabled){t.push(""+e.name+"-disabled")}if(e.options.readonly){t.push(""+e.name+"-readonly")}if(e.$element.attr("id")){t.push(""+e.name+"-id-"+e.$element.attr("id"))}return t.join(" ")}}(this)});this.$div=this.$element.wrap(t("<div>")).parent();this.$wrapper=this.$div.wrap(this.$wrapper).parent();this.$element.before(this.$on).before(this.$label).before(this.$off);this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler()}e.prototype.name="bootstrap-switch";e.prototype._constructor=e;e.prototype.state=function(e,t){if(typeof e==="undefined"){return this.options.state}if(this.options.disabled||this.options.readonly){return this.$element}e=!!e;this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t);return this.$element};e.prototype.toggleState=function(e){if(this.options.disabled||this.options.readonly){return this.$element}return this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)};e.prototype.size=function(e){if(typeof e==="undefined"){return this.options.size}if(this.options.size!=null){this.$wrapper.removeClass(""+this.name+"-"+this.options.size)}this.$wrapper.addClass(""+this.name+"-"+e);this.options.size=e;return this.$element};e.prototype.animate=function(e){if(typeof e==="undefined"){return this.options.animate}e=!!e;this.$wrapper[e?"addClass":"removeClass"](""+this.name+"-animate");this.options.animate=e;return this.$element};e.prototype.disabled=function(e){if(typeof e==="undefined"){return this.options.disabled}e=!!e;this.$wrapper[e?"addClass":"removeClass"](""+this.name+"-disabled");this.$element.prop("disabled",e);this.options.disabled=e;return this.$element};e.prototype.toggleDisabled=function(){this.$element.prop("disabled",!this.options.disabled);this.$wrapper.toggleClass(""+this.name+"-disabled");this.options.disabled=!this.options.disabled;return this.$element};e.prototype.readonly=function(e){if(typeof e==="undefined"){return this.options.readonly}e=!!e;this.$wrapper[e?"addClass":"removeClass"](""+this.name+"-readonly");this.$element.prop("readonly",e);this.options.readonly=e;return this.$element};e.prototype.toggleReadonly=function(){this.$element.prop("readonly",!this.options.readonly);this.$wrapper.toggleClass(""+this.name+"-readonly");this.options.readonly=!this.options.readonly;return this.$element};e.prototype.onColor=function(e){var t;t=this.options.onColor;if(typeof e==="undefined"){return t}if(t!=null){this.$on.removeClass(""+this.name+"-"+t)}this.$on.addClass(""+this.name+"-"+e);this.options.onColor=e;return this.$element};e.prototype.offColor=function(e){var t;t=this.options.offColor;if(typeof e==="undefined"){return t}if(t!=null){this.$off.removeClass(""+this.name+"-"+t)}this.$off.addClass(""+this.name+"-"+e);this.options.offColor=e;return this.$element};e.prototype.onText=function(e){if(typeof e==="undefined"){return this.options.onText}this.$on.html(e);this.options.onText=e;return this.$element};e.prototype.offText=function(e){if(typeof e==="undefined"){return this.options.offText}this.$off.html(e);this.options.offText=e;return this.$element};e.prototype.labelText=function(e){if(typeof e==="undefined"){return this.options.labelText}this.$label.html(e);this.options.labelText=e;return this.$element};e.prototype.destroy=function(){var e;e=this.$element.closest("form");if(e.length){e.off("reset.bootstrapSwitch").removeData("bootstrap-switch")}this.$div.children().not(this.$element).remove();this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch");return this.$element};e.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(e){return function(n,r){var i;n.preventDefault();n.stopPropagation();n.stopImmediatePropagation();i=e.$element.is(":checked");if(i===e.options.state){return}e.options.state=i;e.$wrapper.removeClass(i?""+e.name+"-off":""+e.name+"-on").addClass(i?""+e.name+"-on":""+e.name+"-off");if(!r){if(e.$element.is(":radio")){t("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",false).trigger("change.bootstrapSwitch",true)}return e.$element.trigger("switchChange",{el:e.$element,value:i})}}}(this),"focus.bootstrapSwitch":function(e){return function(t){t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();return e.$wrapper.addClass(""+e.name+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(t){t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();return e.$wrapper.removeClass(""+e.name+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(t){if(!t.which||e.options.disabled||e.options.readonly){return}switch(t.which){case 32:t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();return e.toggleState();case 37:t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();return e.state(false);case 39:t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();return e.state(true)}}}(this)})};e.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",function(e){return function(t){e.state(false);return e.$element.trigger("focus.bootstrapSwitch")}}(this));return this.$off.on("click.bootstrapSwitch",function(e){return function(t){e.state(true);return e.$element.trigger("focus.bootstrapSwitch")}}(this))};e.prototype._labelHandlers=function(){return this.$label.on({"mousemove.bootstrapSwitch":function(e){return function(t){var n,r,i;if(!e.drag){return}r=(t.pageX-e.$wrapper.offset().left)/e.$wrapper.width()*100;n=25;i=75;if(r<n){r=n}else if(r>i){r=i}e.$div.css("margin-left",""+(r-i)+"%");return e.$element.trigger("focus.bootstrapSwitch")}}(this),"mousedown.bootstrapSwitch":function(e){return function(t){if(e.drag||e.options.disabled||e.options.readonly){return}e.drag=true;if(e.options.animate){e.$wrapper.removeClass(""+e.name+"-animate")}return e.$element.trigger("focus.bootstrapSwitch")}}(this),"mouseup.bootstrapSwitch":function(e){return function(t){if(!e.drag){return}e.drag=false;e.$element.prop("checked",parseInt(e.$div.css("margin-left"),10)>-25).trigger("change.bootstrapSwitch");e.$div.css("margin-left","");if(e.options.animate){return e.$wrapper.addClass(""+e.name+"-animate")}}}(this),"mouseleave.bootstrapSwitch":function(e){return function(t){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this),"click.bootstrapSwitch":function(e){return function(t){t.preventDefault();t.stopImmediatePropagation();e.toggleState();return e.$element.trigger("focus.bootstrapSwitch")}}(this)})};e.prototype._formHandler=function(){var e;e=this.$element.closest("form");if(e.data("bootstrap-switch")){return}return e.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return e.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",false)})},1)}).data("bootstrap-switch",true)};return e}();t.fn.bootstrapSwitch=function(){var n,i,s;i=arguments[0],n=2<=arguments.length?e.call(arguments,1):[];s=this;this.each(function(){var e,o;e=t(this);o=e.data("bootstrap-switch");if(!o){e.data("bootstrap-switch",o=new r(this,i))}if(typeof i==="string"){return s=o[i].apply(o,n)}});return s};t.fn.bootstrapSwitch.Constructor=r;return t.fn.bootstrapSwitch.defaults={state:true,size:null,animate:true,disabled:false,readonly:false,onColor:"primary",offColor:"default",onText:"",offText:"",labelText:"&nbsp;"}})(window.jQuery,window)}).call(this)
